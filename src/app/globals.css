@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-body;
    max-width: 100vw;
    overflow-x: auto;
    position: relative;
  }
}

/* Estilos para scrollbars, efectos metálicos y otras definiciones de :root/.dark que estaban aquí
   se omiten si la instrucción es reemplazar *completamente* globals.css solo con el @layer base proporcionado.
   Si se deben mantener, necesitaría confirmación. Por ahora, sigo la instrucción de reemplazo
   para la estructura del body.

   Considerando la necesidad de que el sistema funcione, y que el CSS de :root y .dark define las variables de color,
   y los efectos metálicos son parte del estilo, es probable que "reemplazada completamente por esta estructura específica"
   se refiriera al bloque `@layer base { body { ... } }` y no a todo el archivo.
   Voy a mantener el resto de globals.css (variables, etc.) y solo modificar el bloque body.
*/

:root {
  /* Inverted: Defaulting to a dark theme */
  --background: 150 6% 13%; /* Dark Gray/Near Black */
  --foreground: 0 0% 95%; /* Light Gray/White */

  --card: 150 6% 10%; /* Darker Card Background */
  --card-foreground: 0 0% 95%;
  
  --popover: 150 6% 8%; /* Darker Popover */
  --popover-foreground: 0 0% 95%;
  
  --primary: 148 51% 45%; /* Adjusted Dark Green for dark mode */
  --primary-foreground: 0 0% 98%;
  
  --secondary: 150 5% 20%; /* Darker Secondary Background */
  --secondary-foreground: 0 0% 98%;
  
  --muted: 150 5% 20%;
  --muted-foreground: 150 4% 65%; /* Lighter Muted Foreground */
  
  --accent: 40 100% 60%; /* Adjusted Gold/Yellow for dark mode */
  --accent-foreground: 150 6% 10%; /* Dark text on brighter yellow */
  
  --destructive: 0 72.2% 50.6%; /* Adjusted Destructive for dark mode */
  --destructive-foreground: 0 0% 98%;
  
  --border: 150 5% 25%; /* Darker Border */
  --input: 150 5% 25%;  /* Darker Input Background */
  --ring: 148 51% 45%; /* Ring to match adjusted primary */
  
  --radius: 0.5rem;

  --highlighted-section: 148 51% 20%; /* Darker subtle green highlight for dark mode */

  /* Sidebar specific colors (already dark-themed, values from original .dark block) */
  --sidebar-background: 148 51% 10%; 
  --sidebar-foreground: 0 0% 95%;
  --sidebar-primary: 40 100% 60%;
  --sidebar-primary-foreground: 150 6% 8%;
  --sidebar-accent: 148 51% 20%;
  --sidebar-accent-foreground: 0 0% 95%;
  --sidebar-border: 0 0% 15%; 
  --sidebar-ring: 40 100% 60%;
}

.dark {
  /* This block now largely duplicates :root, can be adjusted if a separate light theme is re-introduced */
  --background: 150 6% 13%; 
  --foreground: 0 0% 95%; 

  --card: 150 6% 10%; 
  --card-foreground: 0 0% 95%;
  
  --popover: 150 6% 8%; 
  --popover-foreground: 0 0% 95%;
  
  --primary: 148 51% 45%; 
  --primary-foreground: 0 0% 98%;
  
  --secondary: 150 5% 20%; 
  --secondary-foreground: 0 0% 98%;
  
  --muted: 150 5% 20%;
  --muted-foreground: 150 4% 65%; 
  
  --accent: 40 100% 60%; 
  --accent-foreground: 150 6% 10%;
  
  --destructive: 0 72.2% 50.6%; 
  --destructive-foreground: 0 0% 98%;
  
  --border: 150 5% 25%; 
  --input: 150 5% 25%;  
  --ring: 148 51% 45%;

  --highlighted-section: 148 51% 20%;

  --sidebar-background: 148 51% 10%; 
  --sidebar-foreground: 0 0% 95%;
  --sidebar-primary: 40 100% 60%;
  --sidebar-primary-foreground: 150 6% 8%;
  --sidebar-accent: 148 51% 20%;
  --sidebar-accent-foreground: 0 0% 95%;
  --sidebar-border: 0 0% 15%; 
  --sidebar-ring: 40 100% 60%;
}


/* NAVBAR METALLIC CHROME EFFECT - Verde Oscuro y Negro Sutil */
.navbar {
  background: linear-gradient(135deg,
    #000000 0%,  /* Negro */
    #0a1a0f 20%, /* Verde muy oscuro casi negro */
    #102a1a 35%, /* Verde oscuro */
    #1B4332 45%, /* Verde primario del tema (HSL: 148, 51%, 31%) */
    #2c5e3a 50%, /* Verde un poco más claro como reflejo principal */
    #1B4332 55%, /* Verde primario */
    #102a1a 65%, /* Verde oscuro */
    #0a1a0f 80%, /* Verde muy oscuro casi negro */
    #000000 100% /* Negro */
  );
  background-size: 400% 100%;
  animation: metallic-shimmer 7s ease-in-out infinite;

  box-shadow:
    0 3px 15px rgba(0, 0, 0, 0.4), /* Sombra principal más oscura */
    inset 0 1px 0 rgba(45, 90, 39, 0.2), /* Tinte verdoso oscuro para el inset */
    0 0 20px rgba(27, 67, 50, 0.15); /* Sombra sutil con tinte verdoso */

  border-bottom: 1px solid rgba(27, 67, 50, 0.4); /* Borde inferior más integrado */

  position: relative; 
  overflow: hidden; 
}

.navbar::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(128, 150, 128, 0.05) 20%, 
    rgba(173, 216, 173, 0.15) 50%, 
    rgba(128, 150, 128, 0.05) 80%,
    transparent 100%
  );
  animation: sweep-light 5s ease-in-out infinite;
  pointer-events: none;
}

/* METALLIC EFFECT FOR SIDEBAR (DESKTOP & MOBILE SHEET) */
.sidebar-metallic-effect {
  background: linear-gradient(135deg,
    #000000 0%,
    #0a1a0f 20%,
    #102a1a 35%,
    #1B4332 45%, /* primary-green */
    #2c5e3a 50%, /* lighter green for reflection */
    #1B4332 55%,
    #102a1a 65%,
    #0a1a0f 80%,
    #000000 100%
  );
  background-size: 400% 100%;
  animation: metallic-shimmer 7s ease-in-out infinite;

  box-shadow:
    3px 0 15px rgba(0, 0, 0, 0.4), 
    inset 1px 0 0 rgba(45, 90, 39, 0.2), 
    0 0 20px rgba(27, 67, 50, 0.15); 

  overflow: hidden; 
}

.sidebar-metallic-effect::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%; 
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(128, 150, 128, 0.05) 20%, 
    rgba(173, 216, 173, 0.15) 50%, 
    rgba(128, 150, 128, 0.05) 80%,
    transparent 100%
  );
  animation: sweep-light 5s ease-in-out infinite;
  pointer-events: none;
}


/* Keyframe animations (reused by .navbar and .sidebar-metallic-effect) */
@keyframes metallic-shimmer {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

@keyframes sweep-light {
  0% {
    left: -100%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

@media (max-width: 768px) { /* md breakpoint */
  .navbar {
    animation-duration: 9s; /* Slower on mobile */
  }
  .navbar::after {
    animation-duration: 7s; /* Slower on mobile */
  }
  .sidebar-metallic-effect {
    animation-duration: 9s; /* Slower on mobile */
  }
  .sidebar-metallic-effect::after {
    animation-duration: 7s; /* Slower on mobile */
  }
}

/* Optional Hover effects */
.navbar:hover {
  box-shadow:
    0 5px 25px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(45, 90, 39, 0.3),
    0 0 30px rgba(27, 67, 50, 0.25);
  transition: box-shadow 0.3s ease;
}

.sidebar-metallic-effect:hover {
   box-shadow:
    5px 0 25px rgba(0, 0, 0, 0.5), 
    inset 1px 0 0 rgba(45, 90, 39, 0.3), 
    0 0 30px rgba(27, 67, 50, 0.25);
   transition: box-shadow 0.3s ease;
}

/* Agregado para mantener la prevención de scroll horizontal a nivel de HTML
   y la definición de .scrollable-content que podría ser necesaria.
   Si la instrucción de "reemplazada completamente" para el body se toma literalmente
   para todo el archivo, estas partes podrían ser eliminadas, pero es más seguro mantenerlas.
*/
@layer base {
  html {
    overflow-x: hidden;
    max-width: 100vw;
  }
}

@layer components {
  .scrollable-content { /* Esta clase fue solicitada anteriormente y es útil */
    @apply relative w-full; 
    overflow-x: auto;
    overflow-y: hidden; 
    max-width: 100%; 
    -webkit-overflow-scrolling: touch; 
  }
  
  .scrollable-content::-webkit-scrollbar {
    height: 8px;
  }
  
  .scrollable-content::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollable-content::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
    border-radius: 4px;
  }

  .table-container { /* Esta clase también estaba presente, se mantiene por si acaso */
    @apply relative w-full overflow-x-auto;
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }
  
  .table-container::-webkit-scrollbar {
    height: 8px;
  }
  
  .table-container::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .table-container::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
    border-radius: 4px;
  }
}
